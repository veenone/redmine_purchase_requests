<%# filepath: /opt/redmine/plugins/redmine_purchase_requests/app/views/vendors/index.html.erb %>
<% html_title l(:label_vendors) %>

<div class="contextual">
  <%= link_to new_vendor_path, class: 'pr-button pr-button-primary pr-button-icon' do %>
    <span class="icon icon-add"></span> <%= l(:label_vendor_new) %>
  <% end %>
</div>

<h2><%= l(:label_vendors) %></h2>

<% if @vendors.any? %>
  <table class="list vendors">
    <thead>
      <tr>
        <th><%= l(:field_vendor_name) %></th>
        <th><%= l(:field_vendor_id) %></th>
        <th><%= l(:field_address) %></th>
        <th><%= l(:field_phone) %></th>
        <th><%= l(:field_contact_person) %></th>
        <th><%= l(:field_email) %></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @vendors.each do |vendor| %>
        <tr>
          <td><%= vendor.name %></td>
          <td><%= vendor.vendor_id %></td>
          <td><%= vendor.address %></td>
          <td><%= vendor.phone %></td>
          <td><%= vendor.contact_person %></td>
          <td><%= vendor.email %></td>
          <td class="buttons">
            <%= link_to edit_vendor_path(vendor), 
                      class: 'pr-button pr-button-secondary pr-button-icon small',
                      title: l(:button_edit) do %>
              <span class="icon icon-edit"></span>
            <% end %>
            <%= link_to vendor_path(vendor), 
                      method: :delete, 
                      data: { confirm: l(:text_are_you_sure) }, 
                      class: 'pr-button pr-button-danger pr-button-icon small',
                      title: l(:button_delete) do %>
              <span class="icon icon-del"></span>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="nodata"><%= l(:label_no_data) %></p>
<% end %>

<% content_for :sidebar do %>
  <h3><%= l(:label_vendor_management) %></h3>
  <p><%= l(:text_vendor_management_info) %></p>
<% end %>
